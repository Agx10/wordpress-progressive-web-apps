function PWAPP_EDIT_THEME(){var JSObject=this;this.type="pwapp_edittheme",this.form,this.DOMDoc,this.send_btn,this.init=function(){PWAPPJSInterface=window.parent.PWAPPJSInterface,this.send_btn=jQuery("#"+this.type+"_send_btn",this.DOMDoc).get(0),this.form=this.DOMDoc.getElementById(this.type+"_form"),this.addButtonsActions(),null!=this.form&&(this.initCustomColors(),this.initCustomSelects(),this.initPreviewButton())},this.initPreviewButton=function(){var a=[{src:JSObject.baseThemesUrl+"app2/snapshots/1-preview-cover.png",title:"Home page cover"},{src:JSObject.baseThemesUrl+"app2/snapshots/2-preview-categories.png",title:"View posts"},{src:JSObject.baseThemesUrl+"app2/snapshots/3-preview-menu.png",title:"Categories menu"},{src:JSObject.baseThemesUrl+"app2/snapshots/4-preview-article.png",title:"Post details"}];jQuery("#"+this.type+"_preview_2").magnificPopup({items:a,gallery:{enabled:!0},type:"image"}),jQuery("#"+this.type+"_preview_2").hover(function(){jQuery(this).parent().siblings("div.text-preview").show()},function(){jQuery(this).parent().siblings("div.text-preview").hide()})},this.initCustomColors=function(){jQuery('input[name^="'+JSObject.type+'_customcolor"]').wpColorPicker(),jQuery('input[name="'+JSObject.type+'_colorscheme"]').click(function(){0==jQuery(this).val()?jQuery(".color-schemes-custom").show():jQuery(".color-schemes-custom").hide()})},this.initCustomSelects=function(){jQuery("#"+JSObject.type+"_fontheadlines").selectBoxIt(),jQuery("#"+JSObject.type+"_fontsubtitles").selectBoxIt(),jQuery("#"+JSObject.type+"_fontparagraphs").selectBoxIt()},this.addButtonsActions=function(){jQuery(this.send_btn).unbind("click"),jQuery(this.send_btn).bind("click",function(){JSObject.disableButton(this),JSObject.sendData()}),JSObject.enableButton(this.send_btn)},this.enableButton=function(a){jQuery(a).css("cursor","pointer"),jQuery(a).animate({opacity:1},100)},this.disableButton=function(a){jQuery(a).unbind("click"),jQuery(a).animate({opacity:.4},100),jQuery(a).css("cursor","default")},this.submitForm=function(){return PWAPPJSInterface.AjaxUpload.dosubmit(JSObject.form,{onStart:JSObject.startUploadingData,onComplete:JSObject.completeUploadingData})},this.sendData=function(){jQuery("#"+this.form.id,this.DOMDoc).unbind("submit"),jQuery("#"+this.form.id,this.DOMDoc).bind("submit",function(){JSObject.submitForm()}),jQuery("#"+this.form.id,this.DOMDoc).submit(),JSObject.disableButton(JSObject.send_btn)},this.startUploadingData=function(){return PWAPPJSInterface.Preloader.start(),setTimeout(function(){var a=JSObject.form.elements;for(nElems=a.length,j=0;j<nElems;j++)a[j].disabled=!0},300),!0},this.completeUploadingData=function(responseJSON){jQuery("#"+JSObject.form.id,JSObject.DOMDoc).unbind("submit"),jQuery("#"+JSObject.form.id,JSObject.DOMDoc).bind("submit",function(){return!1}),PWAPPJSInterface.Preloader.remove(100);var JSON=eval("("+responseJSON+")"),response=Boolean(Number(String(JSON.status)));if(1==response&&0==JSON.messages.length){var message="Your app has been successfully modified!";PWAPPJSInterface.Loader.display({message:message})}else if(0==JSON.messages.length){var message="There was an error. Please reload the page and try again.";PWAPPJSInterface.Loader.display({message:message})}else for(var i=0;i<JSON.messages.length;i++)PWAPPJSInterface.Loader.display({message:JSON.messages[i]});setTimeout(function(){var a=JSObject.form.elements;for(nElems=a.length,j=0;j<nElems;j++)a[j].disabled=!1},300),JSObject.addButtonsActions()}}
